# DiaryNote

これはシンプルな日記・ノートアプリです。

## 概要

日々の出来事や考えを記録するためのシンプルなウェブアプリケーションです。ユーザーは投稿を作成し、一覧で閲覧することができます。

## 新機能

-   **レスポンシブ対応カレンダー**:
    -   PC表示では、カレンダーは投稿ページと閲覧専用ページに直接表示されます。
    -   スマートフォン表示では、上部ナビゲーションバーのカレンダーアイコンをタップすると、オーバーレイとしてカレンダーが表示されます。
    -   モバイルカレンダーポップアップには、閉じるための「✖」ボタンが追加され、不要な日付選択なしに閉じることができるようになりました。
    -   カレンダーのモバイル表示時のスタイルが改善され、視認性が向上しました。
    -   **投稿日ハイライト機能**: 投稿がある日付が薄緑色でハイライトされるようになりました。（PC/モバイルのカレンダー全てに適用）
    -   **選択日表示機能**: ハイライトされた日付を含む、選択された日付が青色で表示されるようになりました。（PC/モバイルのカレンダー全てに適用）
-   **日付による投稿のフィルタリング**: カレンダーを使用して特定の日の投稿を表示できるようになりました。
-   **投稿列のレイアウト改善**: 投稿列の幅が広がり、より見やすくなりました。

## 主な機能

-   **投稿作成**: テキストを入力して新しい日記を投稿できます。
-   **投稿一覧表示**: これまでに投稿された日記を時系列で表示します。
-   **いいね機能**: 各投稿に「いいね」を付けることができます。いいねの状態はページを更新しても保持されます。
-   **ジャンル選択とフィルタリング**: 投稿時に「技術」と「日常」のジャンルを選択でき、それらのジャンルで投稿をフィルタリングできます。
-   **日付によるフィルタリング**: カレンダーから特定の日付を選択し、その日の投稿のみを表示できます。
-   **ページ**:
    -   **投稿ページ**: 日記の投稿と閲覧ができます。
    -   **閲覧専用ページ**: 日記を閲覧することのみができます。

## 改善点

-   **コードのリファクタリング**:
    -   `PostFilterContext`を導入し、`selectedDate`と`handleDateSelect`の状態管理を一元化しました。
    -   `usePostFilter`フックを分離し、コードの関心分離を改善しました。
    -   コンテキスト定義を分離することで、React Fast Refreshに関するESLintエラーを解決しました。
    -   TypeScriptの型エラーとESLintのリンティングエラーを修正し、コードの品質と保守性を向上させました。

## 技術スタック

### フロントエンド

-   React
-   TypeScript
-   Vite
-   React Router

### バックエンド

-   Node.js
-   Express
-   ts-node

### データベース

-   libSQL (Turso または ローカルレプリカ)

### スタイリング

-   基本的なCSS

## 実行方法

### フロントエンド

1.  ルートディレクトリに移動します。
2.  `npm install` を実行して依存関係をインストールします。
3.  `npm run dev` を実行してVite開発サーバーを起動します。

### バックエンド

1.  `backend` ディレクトリに移動します。
2.  `npm install` を実行して依存関係をインストールします。
3.  `.env` ファイルを `backend/src/connectDb.ts` を参考に設定します。
4.  `npm start` を実行してバックエンドサーバーを起動します。